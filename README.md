# ğŸ“¸ Vue å›¾åºŠ

ä¸€ä¸ªç°ä»£åŒ–çš„å›¾åºŠåº”ç”¨ï¼ŒåŸºäº Vue 3 + Element Plus + Node.js å¼€å‘ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ ã€å±•ç¤ºå’Œåå°ç®¡ç†ï¼Œæ”¯æŒ Docker ä¸€é”®éƒ¨ç½²ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- ğŸš€ **ç®€å•æ˜“ç”¨** - æ‹–æ‹½ä¸Šä¼ ï¼Œä¸€é”®æ“ä½œ
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - Element Plus ç»„ä»¶åº“ï¼Œç¾è§‚å¤§æ–¹
- ğŸ“‹ **ä¸€é”®å¤åˆ¶** - å¿«é€Ÿå¤åˆ¶å›¾ç‰‡é“¾æ¥
- ğŸ—‘ï¸ **å›¾ç‰‡ç®¡ç†** - æ”¯æŒåˆ é™¤ã€æœç´¢ã€æ’åº
- ğŸ” **å›¾ç‰‡é¢„è§ˆ** - å¤§å›¾é¢„è§ˆæ¨¡å¼
- ğŸ‘¨â€ğŸ’¼ **åå°ç®¡ç†** - ç®¡ç†å‘˜ç™»å½•ã€ç»Ÿè®¡ä¿¡æ¯ã€æ‰¹é‡æ“ä½œ
- âš¡ **é«˜æ€§èƒ½** - Vue 3 Composition API + Vite æ„å»º
- ğŸ³ **Docker æ”¯æŒ** - ä¸€é”®éƒ¨ç½²ï¼Œæ”¯æŒå…¬ç½‘/æœ¬åœ°ç¯å¢ƒè‡ªåŠ¨æ£€æµ‹
- ğŸŒ **æ™ºèƒ½ URL** - è‡ªåŠ¨æ£€æµ‹å…¬ç½‘ IP æˆ–ä½¿ç”¨è‡ªå®šä¹‰åŸŸå

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

**åç«¯:**

- Node.js + Express.js
- Multer (æ–‡ä»¶ä¸Šä¼ )
- JWT (èº«ä»½è®¤è¯)
- bcryptjs (å¯†ç åŠ å¯†)
- CORS (è·¨åŸŸæ”¯æŒ)

**å‰ç«¯:**

- Vue 3 (Composition API)
- Element Plus (UI ç»„ä»¶åº“)
- Vue Router 4 (è·¯ç”±ç®¡ç†)
- Axios (HTTP å®¢æˆ·ç«¯)
- Vite (æ„å»ºå·¥å…·)

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ğŸ³ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 1. ä½¿ç”¨ Docker Hub é•œåƒ

```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir vue-img && cd vue-img

# 2. ä¸‹è½½é…ç½®æ–‡ä»¶
curl -O https://raw.githubusercontent.com/heiyus/vue-img/main/docker-compose.yml

# 3. å¯åŠ¨æœåŠ¡ï¼ˆ.envæ–‡ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆï¼‰
docker-compose up -d

# 4. è®¿é—®åº”ç”¨
# æœ¬åœ°: http://127.0.0.1:33000
# æœåŠ¡å™¨: http://your-server-ip:33000
```

#### 2. æœ¬åœ°æ„å»ºéƒ¨ç½²

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/heiyus/vue-img.git
cd vue-img

# 2. æ„å»ºé•œåƒ
docker build -t vue-img:latest .

# 3. å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### ğŸ’» ä¼ ç»Ÿéƒ¨ç½²

#### 1. å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/heiyus/vue-img.git
cd vue-img

# å®‰è£…ä¾èµ–
npm install
```

#### 2. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼ï¼ˆåŒæ—¶å¯åŠ¨å‰åç«¯ï¼‰
npm run dev

# æ„å»ºå‰ç«¯é¡¹ç›®
npm run build

# ç”Ÿäº§æ¨¡å¼
npm start
```

#### 3. è®¿é—®åº”ç”¨

- **å¼€å‘æ¨¡å¼**: å‰ç«¯ `http://127.0.0.1:5173`ï¼Œåç«¯ `http://127.0.0.1:33000`
- **ç”Ÿäº§æ¨¡å¼**: `http://127.0.0.1:33000`

## ğŸ“ é¡¹ç›®ç»“æ„

```
vue-image-host/
â”œâ”€â”€ server.js          # Express æœåŠ¡å™¨
â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.js     # Vite é…ç½®
â”œâ”€â”€ index.html         # HTML å…¥å£
â”œâ”€â”€ src/               # Vue æºç 
â”‚   â”œâ”€â”€ main.js        # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ App.vue        # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.vue   # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Login.vue  # ç™»å½•é¡µ
â”‚   â”‚   â””â”€â”€ Admin.vue  # ç®¡ç†é¡µ
â”‚   â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ UploadArea.vue      # ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ImageGallery.vue    # å›¾ç‰‡å±•ç¤º
â”‚   â”‚   â””â”€â”€ AdminImageGallery.vue # ç®¡ç†å‘˜å›¾ç‰‡ç®¡ç†
â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ api.js     # API æ¥å£
â”œâ”€â”€ dist/              # æ„å»ºè¾“å‡º (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ uploads/           # å›¾ç‰‡ä¸Šä¼ ç›®å½• (è‡ªåŠ¨åˆ›å»º)
â””â”€â”€ README.md          # é¡¹ç›®è¯´æ˜
```

## ğŸ–¼ï¸ ä½¿ç”¨è¯´æ˜

### ä¸Šä¼ å›¾ç‰‡

1. **æ‹–æ‹½ä¸Šä¼ **: ç›´æ¥å°†å›¾ç‰‡æ‹–æ‹½åˆ°è™šçº¿åŒºåŸŸ
2. **ç‚¹å‡»ä¸Šä¼ **: ç‚¹å‡»"é€‰æ‹©å›¾ç‰‡"æŒ‰é’®é€‰æ‹©æ–‡ä»¶
3. **æ‰¹é‡ä¸Šä¼ **: æ”¯æŒåŒæ—¶é€‰æ‹©å¤šå¼ å›¾ç‰‡
4. **æœ€è¿‘ä¸Šä¼ **: é¦–é¡µæ˜¾ç¤ºå½“å‰ä¼šè¯çš„æœ€è¿‘ä¸Šä¼ è®°å½•

### å›¾ç‰‡ç®¡ç†

- **ç®¡ç†å…¥å£**: ç‚¹å‡»å¯¼èˆªæ "å›¾ç‰‡ç®¡ç†"æˆ–"åå°ç®¡ç†"
- **æŸ¥çœ‹å¤§å›¾**: ç‚¹å‡»å›¾ç‰‡ç¼©ç•¥å›¾è¿›å…¥é¢„è§ˆæ¨¡å¼
- **å¤åˆ¶é“¾æ¥**: ç‚¹å‡»"å¤åˆ¶é“¾æ¥"æŒ‰é’®è·å–å›¾ç‰‡ URL
- **åˆ é™¤å›¾ç‰‡**: ç‚¹å‡»"åˆ é™¤"æŒ‰é’®ç§»é™¤ä¸éœ€è¦çš„å›¾ç‰‡
- **æœç´¢æ’åº**: æ”¯æŒæŒ‰æ–‡ä»¶åæœç´¢ï¼Œå¤šç§æ’åºæ–¹å¼
- **æ‰¹é‡æ“ä½œ**: ç®¡ç†å‘˜å¯ä»¥æ‰¹é‡é€‰æ‹©å’Œåˆ é™¤å›¾ç‰‡

### åå°ç®¡ç†

1. **ç™»å½•ç®¡ç†**: è®¿é—® `/login` é¡µé¢ï¼Œä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•
2. **ç»Ÿè®¡ä¿¡æ¯**: æŸ¥çœ‹æ€»å›¾ç‰‡æ•°ã€å­˜å‚¨ç©ºé—´ã€æœåŠ¡çŠ¶æ€
3. **å›¾ç‰‡ç®¡ç†**: ç½‘æ ¼/åˆ—è¡¨è§†å›¾åˆ‡æ¢ï¼Œæœç´¢ã€æ’åºã€æ‰¹é‡åˆ é™¤
4. **ç³»ç»Ÿç®¡ç†**: æ•°æ®å¯¼å‡ºã€ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹ã€ä¸€é”®æ¸…ç©º

### æ”¯æŒçš„æ ¼å¼

- JPEG / JPG
- PNG
- GIF
- WebP
- BMP

### æ–‡ä»¶é™åˆ¶

- å•ä¸ªæ–‡ä»¶æœ€å¤§: 10MB
- æ”¯æŒæ‰¹é‡ä¸Šä¼ 

## âš™ï¸ API æ¥å£

### ä¸Šä¼ å›¾ç‰‡

```http
POST /api/upload
Content-Type: multipart/form-data

å‚æ•°:
- image: å›¾ç‰‡æ–‡ä»¶

å“åº”:
{
  "success": true,
  "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ",
  "data": {
    "filename": "1234567890_123456789.jpg",
    "originalName": "photo.jpg",
    "size": 1024000,
    "url": "http://127.0.0.1:3000/uploads/1234567890_123456789.jpg",
    "uploadTime": "2024-01-01 12:00:00"
  }
}
```

### è·å–å›¾ç‰‡åˆ—è¡¨

```http
GET /api/images

å“åº”:
{
  "success": true,
  "data": [
    {
      "filename": "1234567890_123456789.jpg",
      "url": "http://127.0.0.1:3000/uploads/1234567890_123456789.jpg",
      "size": 1024000,
      "uploadTime": "2024-01-01 12:00:00"
    }
  ]
}
```

### åˆ é™¤å›¾ç‰‡

```http
DELETE /api/images/:filename

å“åº”:
{
  "success": true,
  "message": "å›¾ç‰‡åˆ é™¤æˆåŠŸ"
}
```

## ğŸ”§ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡é…ç½®

åªéœ€é…ç½®ä»¥ä¸‹å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼ˆåœ¨ `docker-compose.yml` ä¸­ï¼‰ï¼š

```bash
# ç®¡ç†å‘˜è´¦å·é…ç½®ï¼ˆå¿…éœ€ï¼‰
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# æ–‡ä»¶ä¸Šä¼ é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤10MBï¼‰
MAX_FILE_SIZE=10485760
```

### è‡ªåŠ¨é…ç½®æœºåˆ¶

åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨é…ç½®ä»¥ä¸‹å†…å®¹ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®ï¼š

1. **ç«¯å£**: å›ºå®šä¸º `33000`
2. **JWT å¯†é’¥**: å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆéšæœºå¯†é’¥ï¼ˆ64 å­—èŠ‚ï¼‰
3. **ä¸Šä¼ ç›®å½•**: å›ºå®šä¸º `uploads` ç›®å½•
4. **å›¾ç‰‡ URL**: æ ¹æ®è¯·æ±‚åŠ¨æ€ç”Ÿæˆï¼Œè‡ªåŠ¨é€‚é…è®¿é—®åœ°å€
5. **NODE_ENV**: åœ¨ Dockerfile ä¸­å·²è®¾ç½®ä¸º `production`

### URL ç”Ÿæˆè§„åˆ™

å›¾ç‰‡ URL ä¼šæ ¹æ®å®é™…è®¿é—®åœ°å€åŠ¨æ€ç”Ÿæˆï¼š

- è®¿é—® `http://localhost:33000` â†’ å›¾ç‰‡ URL ä¸º `http://localhost:33000/uploads/xxx.jpg`
- è®¿é—® `http://192.168.1.100:33000` â†’ å›¾ç‰‡ URL ä¸º `http://192.168.1.100:33000/uploads/xxx.jpg`
- è®¿é—® `http://example.com:33000` â†’ å›¾ç‰‡ URL ä¸º `http://example.com:33000/uploads/xxx.jpg`

æ— éœ€æ‰‹åŠ¨é…ç½® `APP_URL`ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ã€‚

## ğŸš€ éƒ¨ç½²å»ºè®®

### ğŸ³ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# ç”Ÿäº§ç¯å¢ƒ
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down

# æ›´æ–°é•œåƒ
docker-compose pull && docker-compose up -d
```

### ğŸ’» ä¼ ç»Ÿéƒ¨ç½²

#### æœ¬åœ°å¼€å‘

```bash
npm run dev
```

#### ç”Ÿäº§ç¯å¢ƒ

```bash
npm start
```

#### ä½¿ç”¨ PM2

```bash
npm install -g pm2
pm2 start server.js --name "vue-img"
pm2 startup
pm2 save
```

### ğŸŒ Nginx åå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:33000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # å¤„ç†å¤§æ–‡ä»¶ä¸Šä¼ 
    client_max_body_size 50M;
}
```

## ğŸ›¡ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶ç±»å‹æ£€æŸ¥**: å·²é™åˆ¶åªèƒ½ä¸Šä¼ å›¾ç‰‡æ ¼å¼
2. **æ–‡ä»¶å¤§å°é™åˆ¶**: é»˜è®¤é™åˆ¶ 10MB
3. **æ–‡ä»¶åéšæœºåŒ–**: é˜²æ­¢æ–‡ä»¶åå†²çªå’Œè·¯å¾„æ”»å‡»
4. **ç”Ÿäº§ç¯å¢ƒ**: å»ºè®®é…ç½® nginx åå‘ä»£ç†å’Œ HTTPS

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨ [Issues](https://github.com/yourusername/local-image-host/issues) é¡µé¢æäº¤åé¦ˆã€‚

---

â¤ï¸ **æ„Ÿè°¢ä½¿ç”¨æœ¬åœ°å›¾åºŠï¼**
